# **Active Recordの命名規約とスキーマ規約**

## **命名規約**
Active Recordでは、**モデルとデータベースのテーブルをマッピングする際の規則** がある。

### **モデルとテーブルの命名ルール**
- **モデルのクラス名**: 単数形でキャメルケースを使用（例: `BookClub`）  
- **データベースのテーブル名**: 複数形でスネークケースを使用（例: `book_clubs`）  
- **Railsの複数形化機能** により、不規則な単語も自動変換（例: `Person` → `people`）

## **スキーマの規約**
データベースの**カラム名にも特定の規則**がある。

### **主キー（Primary Key）**
- デフォルトで `id` を使用（データベースによって型が異なる）

### **外部キー（Foreign Key）**
- `{単数形テーブル名}_id` の形式（例: `order_id`）

### **予約済みカラム名**
Active Recordには特定の機能を持つカラム名がある。

| カラム名       | 説明 |
|--------------|--------------------------------------------------|
| `created_at` | レコード作成時の日時を自動設定 |
| `updated_at` | レコード更新時の日時を自動設定 |
| `lock_version` | 楽観的ロック（Optimistic Locking）をサポート |
| `type` | Single Table Inheritance（STI）用のカラム |
| `{関連付け名}_type` | ポリモーフィック関連付けの種類を保存 |
| `{テーブル名}_count` | 関連オブジェクトの数をキャッシュ（例: `comments_count`） |

**予約済みカラム名は特別な理由がない限り変更しないことが推奨される。**  
特に `type` はSTIに使用されるため、別の用途で使う場合は他の名称を検討するべき。


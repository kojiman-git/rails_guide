# パーシャル（Partial）テンプレートの活用

## 概要
パーシャルは、Action Viewにおいてビューコードを再利用可能な小さな部品として分割する仕組みです。メインテンプレートの一部を別ファイルに切り出すことで、ビューの見通しを良くし、コードの再利用性を高められます。

## このガイドの内容
1. **パーシャルの基本とrenderの使い方（4.1）**
2. **複数ビューで共有できるレイアウトの実装方法（4.2）**

## 4.1 パーシャルをレンダリングする

パーシャルファイルはアンダースコア（_）から始まる名前で作成され、同一ディレクトリ内で次のように呼び出せます：
```erb
<%= render "product" %>
```
これは `app/views/.../_product.html.erb` をレンダリングします。別ディレクトリのパーシャルも以下のように参照できます：
```erb
<%= render "application/product" %>
```
呼び出し時にはアンダースコアを省くのがルールです。

## 4.2 パーシャルを活用してビューを簡潔に保つ

パーシャルはサブルーチンのように使え、コードの見通しを改善できます。以下の例では、ヘッダー・フッター・商品情報をそれぞれパーシャル化しています：
```erb
<%= render "application/ad_banner" %>

<h1>Products</h1>
<p>私たちの素晴らしい製品のいくつかをご紹介します:</p>
<% @products.each do |product| %>
  <%= render partial: "product", locals: { product: product } %>
<% end %>

<%= render "application/footer" %>
```
このように、`
- `_ad_banner.html.erb`
- `_footer.html.erb`
- `_product.html.erb`

といった複数のパーシャルを使うことで、共通レイアウトを保ちつつ、ビューファイルの構造を明瞭に保つことができます。特に `locals` を用いたデータ渡しにより、1つのパーシャルで異なるコンテキストを処理できるのが特徴です。

